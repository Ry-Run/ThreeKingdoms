// Code generated by gen_entities; DO NOT EDIT.
package model

import (
	entity "ThreeKingdoms/internal/player/entity"
	"time"
)

type GeneralDoc struct {
	Id             int         `bson:"id"`
	CfgId          int         `bson:"cfg_id"`
	Power          int         `bson:"power"`
	Level          int8        `bson:"level"`
	Exp            int         `bson:"exp"`
	Order          int8        `bson:"order"`
	CityId         int         `bson:"city_id"`
	CreatedAt      time.Time   `bson:"created_at"`
	CurArms        int         `bson:"cur_arms"`
	HasPrPoint     int         `bson:"has_pr_point"`
	UsePrPoint     int         `bson:"use_pr_point"`
	AttackDistance int         `bson:"attack_distance"`
	ForceAdded     int         `bson:"force_added"`
	StrategyAdded  int         `bson:"strategy_added"`
	DefenseAdded   int         `bson:"defense_added"`
	SpeedAdded     int         `bson:"speed_added"`
	DestroyAdded   int         `bson:"destroy_added"`
	StarLv         int8        `bson:"star_lv"`
	Star           int8        `bson:"star"`
	ParentId       int         `bson:"parent_id"`
	Skills         string      `bson:"skills"`
	SkillsArray    []GSkillDoc `bson:"skills_array"`
	State          int8        `bson:"state"`
}

func toDocSlice_skillsArray(in []entity.GSkillState) []GSkillDoc {
	if in == nil {
		return nil
	}
	out := make([]GSkillDoc, len(in))
	for i, v := range in {
		out[i] = GSkillStateToDoc(v)
	}
	return out
}

func toStateSlice_skillsArray(in []GSkillDoc) []entity.GSkillState {
	if in == nil {
		return nil
	}
	out := make([]entity.GSkillState, len(in))
	for i, v := range in {
		out[i] = GSkillDocToState(v)
	}
	return out
}

func GeneralStateToDoc(s entity.GeneralState) GeneralDoc {
	state := entity.HydrateGeneralEntity(s).Save()
	return GeneralDoc{
		Id:             state.Id,
		CfgId:          state.CfgId,
		Power:          state.Power,
		Level:          state.Level,
		Exp:            state.Exp,
		Order:          state.Order,
		CityId:         state.CityId,
		CreatedAt:      state.CreatedAt,
		CurArms:        state.CurArms,
		HasPrPoint:     state.HasPrPoint,
		UsePrPoint:     state.UsePrPoint,
		AttackDistance: state.AttackDistance,
		ForceAdded:     state.ForceAdded,
		StrategyAdded:  state.StrategyAdded,
		DefenseAdded:   state.DefenseAdded,
		SpeedAdded:     state.SpeedAdded,
		DestroyAdded:   state.DestroyAdded,
		StarLv:         state.StarLv,
		Star:           state.Star,
		ParentId:       state.ParentId,
		Skills:         state.Skills,
		SkillsArray:    toDocSlice_skillsArray(state.SkillsArray),
		State:          state.State,
	}
}

func GeneralDocToState(d GeneralDoc) entity.GeneralState {
	state := entity.GeneralState{
		Id:             d.Id,
		CfgId:          d.CfgId,
		Power:          d.Power,
		Level:          d.Level,
		Exp:            d.Exp,
		Order:          d.Order,
		CityId:         d.CityId,
		CreatedAt:      d.CreatedAt,
		CurArms:        d.CurArms,
		HasPrPoint:     d.HasPrPoint,
		UsePrPoint:     d.UsePrPoint,
		AttackDistance: d.AttackDistance,
		ForceAdded:     d.ForceAdded,
		StrategyAdded:  d.StrategyAdded,
		DefenseAdded:   d.DefenseAdded,
		SpeedAdded:     d.SpeedAdded,
		DestroyAdded:   d.DestroyAdded,
		StarLv:         d.StarLv,
		Star:           d.Star,
		ParentId:       d.ParentId,
		Skills:         d.Skills,
		SkillsArray:    toStateSlice_skillsArray(d.SkillsArray),
		State:          d.State,
	}
	return entity.HydrateGeneralEntity(state).Save()
}
