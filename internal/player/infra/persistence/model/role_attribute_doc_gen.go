// Code generated by gen_entities; DO NOT EDIT.
package model

import (
	entity "ThreeKingdoms/internal/player/entity"
	"time"
)

type RoleAttributeDoc struct {
	ParentId        int         `bson:"parent_id"`
	CollectTimes    int8        `bson:"collect_times"`
	LastCollectTime time.Time   `bson:"last_collect_time"`
	PosTags         []PosTagDoc `bson:"pos_tags"`
}

func toDocSlice_posTags(in []entity.PosTagState) []PosTagDoc {
	if in == nil {
		return nil
	}
	out := make([]PosTagDoc, len(in))
	for i, v := range in {
		out[i] = PosTagStateToDoc(v)
	}
	return out
}

func toStateSlice_posTags(in []PosTagDoc) []entity.PosTagState {
	if in == nil {
		return nil
	}
	out := make([]entity.PosTagState, len(in))
	for i, v := range in {
		out[i] = PosTagDocToState(v)
	}
	return out
}

func RoleAttributeStateToDoc(s entity.RoleAttributeState) RoleAttributeDoc {
	state := entity.HydrateRoleAttributeEntity(s).Save()
	return RoleAttributeDoc{
		ParentId:        state.ParentId,
		CollectTimes:    state.CollectTimes,
		LastCollectTime: state.LastCollectTime,
		PosTags:         toDocSlice_posTags(state.PosTags),
	}
}

func RoleAttributeDocToState(d RoleAttributeDoc) entity.RoleAttributeState {
	state := entity.RoleAttributeState{
		ParentId:        d.ParentId,
		CollectTimes:    d.CollectTimes,
		LastCollectTime: d.LastCollectTime,
		PosTags:         toStateSlice_posTags(d.PosTags),
	}
	return entity.HydrateRoleAttributeEntity(state).Save()
}
